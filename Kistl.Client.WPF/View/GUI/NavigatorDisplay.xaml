<Window x:Class="Kistl.Client.WPF.View.GUI.NavigatorDisplay"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ctrls="clr-namespace:Kistl.Client.WPF.CustomControls;assembly=Kistl.Client.WPF.Toolkit"
        xmlns:commands="clr-namespace:Kistl.Client.WPF.Commands;assembly=Kistl.Client.WPF.Toolkit"
        commands:SmartRoutedUICommand.IsCommandSink="True"
        Height="600"
        Width="800"
        Title="{Binding Name}">
    <DockPanel LastChildFill="True">
        <UniformGrid DockPanel.Dock="Top"
                     Rows="1">
            <ctrls:CommandButton CommandModel="{Binding BackCommand}"
                                 Margin="5" />
            <ctrls:CommandButton CommandModel="{Binding HomeCommand}"
                                 Margin="5" />
        </UniformGrid>

        <!-- location breadcrumbs -->
        <!-- TODO use breadcrumbs instead of history -->
        <ItemsControl DockPanel.Dock="Top"
                      ItemsSource="{Binding History}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Horizontal"
                                IsItemsHost="True" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text=">" />
                        <ctrls:CommandButton CommandModel="{Binding Displayer.NavigateToCommand}"
                                             CommandParameter="{Binding}"
                                             Content="{Binding Name}" />
                        <TextBlock Text="{Binding Name}" />
                    </StackPanel>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <ContentPresenter Content="{Binding CurrentScreen}"
                          ContentTemplateSelector="{StaticResource defaultTemplateSelector}" />
    </DockPanel>
</Window>
