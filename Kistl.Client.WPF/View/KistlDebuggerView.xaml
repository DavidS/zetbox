<Window x:Class="Kistl.Client.WPF.View.KistlDebuggerView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ctrls="clr-namespace:Kistl.Client.WPF.CustomControls"
        xmlns:view="clr-namespace:Kistl.Client.WPF.View"
        xmlns:client="clr-namespace:Kistl.Client.Presentables;assembly=Kistl.Client"
        Title="KistlContext Debugger"
        Height="360"
        Width="300"
        WindowStyle="ToolWindow"
        ShowInTaskbar="False">
    <Grid>
        <TreeView x:Name="tree"
                  ItemsSource="{Binding Contexts}"
                  BorderThickness="0">
            <TreeView.Resources>
                <HierarchicalDataTemplate DataType="{x:Type client:KistlContextModel}"
                                          ItemsSource="{Binding AttachedObjects}"
                                          ItemTemplateSelector="{StaticResource listItemTemplateSelector}">
                    <TextBlock Text="{Binding Count, Converter={StaticResource FormattingConverter}, ConverterParameter=Count: {0}}" />
                </HierarchicalDataTemplate>
            </TreeView.Resources>
        </TreeView>
    </Grid>
</Window>
