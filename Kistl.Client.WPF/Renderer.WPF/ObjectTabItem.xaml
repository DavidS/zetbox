<TabItem 
    x:Name="Self"
    x:Class="Kistl.GUI.Renderer.WPF.ObjectTabItem"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:client="clr-namespace:Kistl.Client.WPF"
    >
    <TabItem.Header>
        <StackPanel Orientation="Horizontal">
            <TextBlock
                Text="{Binding ElementName=Self, Path=ShortLabel, UpdateSourceTrigger=PropertyChanged}"
                ToolTip="{Binding ElementName=Self, Path=ShortLabel, UpdateSourceTrigger=PropertyChanged}"
                TextTrimming="CharacterEllipsis"
                MaxWidth="100"/>
            <Button Content="X" Margin="3"/>
        </StackPanel>
    </TabItem.Header>
    <TabItem.ContentTemplate>
        <DataTemplate>
            <ScrollViewer>
                <!--
                Binding the Content here inhibits the ContentPresenter to bind its ContentTemplate
                to the TabItem's ContentTemplate. This massively reduces the amount of template that
                has to be replaced to get the ScrollViewer around the Content.
                -->
                <ContentPresenter Content="{TemplateBinding Content}"/>
            </ScrollViewer>
        </DataTemplate>
    </TabItem.ContentTemplate>
</TabItem>
